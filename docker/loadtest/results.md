# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Click Counter

## üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

- **–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 2025-06-05
- **–í–µ—Ä—Å–∏—è —Å–µ—Ä–≤–µ—Ä–∞**: Click Counter v1.0 —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –±–∞—Ç—á–∞–º–∏
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞—Ç—á–µ–π**: 
  - –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: 2000 –∫–ª–∏–∫–æ–≤
  - –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–æ—Å–∞: 2 —Å–µ–∫—É–Ω–¥—ã
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞**: 20 —Å–µ–∫—É–Ω–¥
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π endpoint**: `GET /counter/1`

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| Target RPS | Actual RPS | Success Rate | Avg Latency | P95 Latency | Workers | Total Requests | Failed | Status |
|------------|------------|--------------|-------------|-------------|---------|----------------|--------|---------|
| **100**    | **99.0**   | **100.0%** ‚úÖ | 956¬µs       | 1.441ms     | 10      | 1,990          | 0      | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **200**    | **198.0**  | **100.0%** ‚úÖ | 1.063ms     | 1.361ms     | 20      | 3,976          | 0      | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **300**    | **296.9**  | **100.0%** ‚úÖ | 1.418ms     | 1.663ms     | 30      | 5,968          | 0      | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **400**    | **395.9**  | **100.0%** ‚úÖ | 1.925ms     | 2.282ms     | 40      | 7,958          | 0      | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **500**    | **494.7**  | **97.3%** ‚ö†Ô∏è  | 2.380ms     | 3.234ms     | 50      | 9,947          | 268    | ‚ö†Ô∏è –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è |
| **600**    | **593.9**  | **79.3%** ‚ùå  | 2.432ms     | 4.455ms     | 60      | 11,936         | 2,476  | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |

## üìà –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### ‚úÖ **–ó–æ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã: 100-400 RPS**
- **Success Rate: 100%** –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **–¢–æ—á–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏: 99%** (–æ—Ç–ª–∏—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)
- **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: 0.95-1.93ms** (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- **P95 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: 1.36-2.28ms** (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
- **–ù–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**

### ‚ö†Ô∏è **–ó–æ–Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏: 500 RPS**
- **Success Rate: 97.3%** (–Ω–∏–∂–µ 100%, –Ω–æ –≤—ã—à–µ 95%)
- **268 failed –∑–∞–ø—Ä–æ—Å–æ–≤** –∏–∑ 9,947 (2.7% –ø–æ—Ç–µ—Ä—å)
- **P95 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: 3.23ms** (—Ä–æ—Å—Ç –Ω–∞ 42%)
- **–ù–∞—á–∞–ª–æ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é**

### ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞: 600+ RPS**
- **Success Rate: 79.3%** (–∫—Ä–∏—Ç–∏—á–Ω–æ –Ω–∏–∑–∫–∏–π)
- **2,476 failed –∑–∞–ø—Ä–æ—Å–æ–≤** –∏–∑ 11,936 (20.7% –ø–æ—Ç–µ—Ä—å)
- **P95 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: 4.46ms** (—Ä–æ—Å—Ç –Ω–∞ 95%)
- **–ù–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–æ—Ç–µ—Ä—å**

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó**: 1000-5000 RPS —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é

### –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ü–µ–Ω–∫–∏:
- ‚ùå **–ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 400 RPS (100% success rate)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–µ–º–ª–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 500 RPS (97.3% success rate)
- **–¢—Ä–µ–±—É–µ–º—ã–π –º–∏–Ω–∏–º—É–º**: 1000 RPS (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç)

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–µ–π**
- –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: 2,000 –∫–ª–∏–∫–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 5,000-10,000 –∫–ª–∏–∫–æ–≤
- –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –≤ 2.5-5 —Ä–∞–∑

### 2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- –£–≤–µ–ª–∏—á–∏—Ç—å `max_open_conns` —Å 200 –¥–æ 500
- –£–≤–µ–ª–∏—á–∏—Ç—å `max_idle_conns` —Å 50 –¥–æ 100
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã clicks

### 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ HTTP —Å–µ—Ä–≤–µ—Ä–∞**
- –£–≤–µ–ª–∏—á–∏—Ç—å `read_timeout` –∏ `write_timeout`
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å `MaxHeaderBytes`
- –í–∫–ª—é—á–∏—Ç—å HTTP/2 –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥–∏ (Redis/RabbitMQ)
- –í–Ω–µ–¥—Ä–∏—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞:
```yaml
database:
  max_open_conns: 200
  max_idle_conns: 50
  conn_max_lifetime: 1800

click_flusher:
  interval: 2
  batch_size: 2000

server:
  read_timeout: 15
  write_timeout: 15
  idle_timeout: 60
```

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **–ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤**: Target RPS / 10 (–º–∞–∫—Å. 500 –≤–æ—Ä–∫–µ—Ä–æ–≤)
- **RPS –Ω–∞ –≤–æ—Ä–∫–µ—Ä–∞**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: 100ms –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –≤–æ—Ä–∫–µ—Ä–∞
- **–°–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞**: —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä Click Counter –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–æ—Ç–ª–∏—á–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ 400 RPS** —Å –ø–æ–ª–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é. –û–¥–Ω–∞–∫–æ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¢–ó (1000-5000 RPS) –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –±–∞—Ç—á–µ–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –¥–ª—è –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–æ 400 RPS, —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.
